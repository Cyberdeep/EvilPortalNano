<div class="row" ng-controller="EvilPortalController">

	<div class="col-md-3">
		<div class="panel panel-default">
			<div class="panel-heading">
				<a href="javascript:;" data-toggle="collapse" data-target="#collapseControls" class="text-muted"><h4 class="panel-title">Controls <img src="/img/throbber.gif" ng-show="throbber" /></h4></a>
			</div>
			<div id="collapseControls" class="panel-collapse collapse in">
				<div class="panel-body">
					<table style="width:100%">
						<tr ng-repeat="control in controls" ng-show="control.visible">
							<td style="padding-bottom: .5em;" class="text-muted">{{ control.title }}</td>
							<!--<td style="text-align:right">{{ control.status }}</td>-->
							<td style="text-align:right;padding-bottom: .5em;">
								<button class="btn btn-default btn-sm" style="width:75px" ng-click="handleControl(control)" ng-hide="control.throbber">{{ control.status }}</button>
								<img src="/img/throbber.gif" ng-show="control.throbber" />
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<a href="javascript:;" data-toggle="collapse" data-target="#collapseMessages" class="text-muted"><h4 class="panel-title">Evil Portal Messages</h4></a>
			</div>
			<div id="collapseMessages" class="panel-collapse collapse in">
				<div class="panel-body">
					<p ng-show="(messages.length == 0)" class="text-muted"><i>No Messages.</i></p>
					<a ng-hide="(messages.length < 2)" ng-click="messages = []" class="pull-right" href="javascript:;">Clear All</a>
					<table style="width:100%" ng-hide="(messages.length == 0)">
						<tr ng-repeat="message in messages">
							<td>
								<hr />
								<h5><b>{{ message.title }}</b> <a ng-click="dismissMessage($index)" href="javascript:;" class="pull-right">Dismiss</a></h5>
								<p class="text-muted"><i>{{ message.msg }}</i></p>
							</td>
						</tr>
					</table>
				</div>
			</div>
		</div>
	</div>

	<!--<div class="col-md-9">
		<div class="panel panel-default">
			<div ng-controller="EvilPortalTabController">

				<div class="panel-header">
					<nav class="navback navbar-default">
			    		<ul class="nav nav-tabs">
			        		<li ng-repeat="tab in tabs"
			        			ng-class="{active:isActiveTab(tab.url)}"
			        			ng-click="onClickTab(tab)"><a>{{ tab.title }}</a></li>
			    		</ul>
					</nav>
				</div>

				<div class="panel-body">
					<div id="mainView">
				    	<div ng-include="currentTab"></div>
					</div>
				</div>

			</div>
		</div>
	</div>-->

	<!--<div ng-show="dependencies">-->
	<div class="panel-group" id="accordion">
		<div class="col-md-9">
			<!-- Library panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h5 class="panel-title"><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseLibrary" class="text-muted">Library</a></h5>
				</div>
				<div id="collapseLibrary" class="panel-collapse collapse in">
					<div class="panel-body">
						<div ng-show="portals.length > 0">
							<div class="table-responsive">
								<table class="table table-striped" align="center">
									<thead>
										<th>File Name</th>
										<th>Location</th>
										<th>Edit</th>
										<th>Delete</th>
										<th>Active</th>
									</thead>
									<tbody>
										<tr ng-repeat="portal in portals">
											<td>{{ portal.title }}</td>
											<td class="text-muted"><i>{{ portal.storage }}</i></td>
											<td><a href="javascript:;" ng-click="editPortal(portal)" data-toggle="collapse" data-parent="#accordion" data-target="#collapseWorkshop">Edit</a></td>
											<td><a href="javascript:;" ng-click="deletePortal(portal)" ng-hide="portal.storage == 'active'">Delete</a></td>
											<td><a href="javascript:;" ng-click="activatePortal(portal)" ng-hide="portal.storage == 'active'">Activate</a></td>
										</tr>
									</tbody>
								</table>
							</div>
						</div>

						<div ng-hide="portals.length > 0">
							<p class="text-muted text-center"><i>No Portals in Library to Display.</i></p>
						</div>
					</div>
				</div>
			</div>

			<!-- Create Portal Panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h5 class="panel-title"><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseWorkshop" class="text-muted">Portal Workshop</a></h5>
				</div>
				<div id="collapseWorkshop" class="panel-collapse collapse">
					<div class="panel-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label class="control-label">Portal Name</label>
								<input type="text" class="form-control" ng-model="workshopPortal.name" placeholder="BookStore.html">
							</div>
							<div class="form-group">
								<label class="control-label">Portal HTML</label> <a href="javascript:;" ng-click="workshopPortal.code = ''">Clear</a>
								<textarea class="form-control" rows="10" ng-model="workshopPortal.code" placeholder="<HTML><p>Hello World!</p></HTML>"></textarea>
							</div>
							<div class="form-group">
								<button type="submit" ng-click="createNewPortal()" class="btn btn-default btn-sm">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		
			<!-- EvilPortal Tools Panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h5 class="panel-title"><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseTools" class="text-muted">EvilPortal Tools</a></h5>
				</div>
				<div id="collapseTools" class="panel-collapse collapse">
					<div class="panel-body">
						<p>There will be various tools in this panel</p>
					</div>
				</div>
			</div>

			<!-- Live Preview Panel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h5 class="panel-title"><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapsePreview" ng-click="refreshLivePreview()" class="text-muted">View Live Preview</a></h5>
				</div>
				<div id="collapsePreview" class="panel-collapse collapse">
					<div class="panel-body">
						<div ng-show="running">
							<iframe src="http://172.16.42.1:2050" style="width:100%;height:300px;border:none;" id="livePreviewIframe"></iframe>
							<button type="submit" ng-click="refreshLivePreview()" class="btn btn-default btn-sm">Refresh</button>
						</div>
						<div ng-hide="running">
							<p class="text-muted text-center"><i>NoDogSplash Must Be Started First.</i></p>
						</div>
					</div>
				</div>
			</div>

			<!-- NoDogSplash Configuration Panel -->
			<!-- This will be out in the next release because I am to lazy to get it working -->
			<!--<div class="panel panel-default">
				<div class="panel-header text-muted text-center">
					<h5><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseConfigure">Configure NoDogSplash</a></h5>
				</div>
				<div id="collapseConfigure" class="panel-collapse collapse">
					<div class="panel-body">
						<form class="form-horizontal">
							<div class="form-group">
								<label class="col-sm-2 control-label">Gateway Name: </label>
								<div class="col-sm-3">
									<input type="text" class="form-control">
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>-->

			<!-- Change Log Pannel -->
			<div class="panel panel-default">
				<div class="panel-heading">
					<h5 class="panel-title"><a href="javascript:;" data-toggle="collapse" data-parent="#accordion" data-target="#collapseChangelog" class="text-muted">Evil Portal Change Log</a></h5>
				</div>
				<div id="collapseChangelog" class="panel-collapse collapse">
					<div class="panel-body">
						<ul>
							<li><b>1.1</b></li>
							<ul>
								<li class="text-muted">Captive Portal is purely iptables</li>
								<li class="text-muted">No more NoDogSplash</li>
							</ul>
						</ul>
						<ul>
							<li><b>1.0</b></li>
							<ul>
								<li class="text-muted">Initial Pineapple Nano Release</li>
							</ul>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--</div>-->

</div>